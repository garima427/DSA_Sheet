// Brute
Node* cloneList(Node* head){
  unordered_map<Node*,Node*> mpp;
  Node* temp = head;
  while(temp){
    Node* newNode = new Node(temp->data);
    mpp[temp] = newNode;
    temp = temp->next;
  }
  
  temp = head; 
  while(temp){
    Node* copyNode = mpp[temp];
    copyNode->next = mpp[temp->next];
    copyNode->random = mpp[temp->random];
    
    temp = temp->next;
  }
  return mpp[head];
}


//Optimal

Node* cloneList(Node* head){
  Node* temp = head;
  while(temp){
    Node* newNode = new Node(temp->data);
    newNode->next = temp->next;
    temp->next = newNode;
    
    temp = temp->next->next;
  }
  
  temp = head;
  Node* clone;
  Node* dummyHead = new Node(-1);
  Node* tail = dummyHead;
  
  while(temp){
    clone = temp->next;
    clone->random = temp->random? temp->random->next : nullptr;
    
    tail->next = clone;
    tail = clone;

    temp->next = clone->next;
    temp = temp->next;
  }
  tail->next = nullptr;
  return dummyHead->next;
}
